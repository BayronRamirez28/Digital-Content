<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="utf-8">
<title>Digital Content</title>

<!-- Bootstrap -->
<link th:href="@{/bootstrap/css/bootstrap.min.css}" rel="stylesheet"
	type="text/css">
<!-- Logo PestaÃ±a -->
<link rel="icon" th:href="@{/imgs/LOGO1.png}" />
<!-- Font Awesome -->
<link th:href="@{/fontawesome/css/fontawesome.min.css}" rel="stylesheet">
<link th:href="@{/fontawesome/css/brands.min.css}" rel="stylesheet">
<link th:href="@{/fontawesome/css/solid.min.css}" rel="stylesheet">
<!-- DataTables con BootStrap -->
<link rel="stylesheet" type="text/css"
	th:href="@{/datatables/DataTables-1.12.1/css/dataTables.bootstrap5.min.css}" />
</head>
<body>
	<!-- HEADER -->

	<nav th:replace="~{layouts/header :: header}">Header</nav>


	<div class="row m-1">
		<div class="col-sm-8">
			<th:block th:each="item, status : ${cartItems}">
				<div class="row border rounded" th:with="product = ${item.product}">
					<div class="col-1">
						<div>[[${status.count}]]</div>
						<div><a class="fas fa-trash icon-secondary" th:href="@{/}"></a></div>
					</div>
					<div class="col-3">
						<img th:src="@{ss}">
					</div>
					<div class="col-6">
						<div>
							<a>
								<b>[[${product.nombre}]]</b>
							</a>
						</div>
						<div th:replace="controldecantidad :: control_cantidad(${item.cantidad}, ${item.product.idProducto})">Cantidad</div>
						<div>
							<span>X</span>
							<span>$[[${product.precio}]]</span>
						</div>
						<div>
							<span>=</span><span class="h4">[Subtotal]</span>
						</div>
					</div>
				</div>
				<div class="row m-1">&nbsp;</div>
			</th:block>
		</div>
		<div class="col-sm-4" th:unless="${#lists.isEmpty(cartItems)}">
			<div>
				<span class="h3">Estimado Total:</span>
			</div>
			<div class="mt-2">
				<span class="h2">[Total]</span>
			</div>
			<div class="mt-2">
				<button class="btn btn-outline-danger p-3 mt-2">Ordenar</button>
			</div>
		</div>
		<div th:if="${#lists.isEmpty(cartItems)}">
			<h2>El carrito se encuentra vacio :D</h2>
		</div>
	</div>
	
<!-- JQuery -->
<script type="text/javascript" th:src="@{/JQuery/jquery-3.6.1.min.js}"></script>		
<script type="text/javascript" th:src="@{/controldecantidad.js}"></script>
</body>
</html>